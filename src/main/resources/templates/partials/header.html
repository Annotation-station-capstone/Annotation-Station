<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">


<!--Nav Starts Here-->
<nav class="navbar navbar-icon-top navbar-expand-lg navbar-dark bg-dark row-cols-auto" th:fragment="navbar">
    <div class="dropdown col-2 pl-5">
        <!--        <div sec:authorize="!isAuthenticated()" class="text-light">SignIn/Reg ister</div>-->


        <div sec:authorize="!isAuthenticated()">
            <button class="btn btn-primary dropdown-toggle signin-btn" id="myModal" type="button"
                    data-mdb-toggle="dropdown"
                    aria-expanded="false">
                <div><i class="fas fa-book-reader" style="font-size: xx-large"></i></div>
            </button>
            <div class="dropdown-menu text-center mx-auto" style="width: 320px">
                <form class="px-4 py-3" th:action="@{/}" th:method="post">
                    <!-- Username input -->
                    <div class="form-outline mb-4  text-center">
                        <input id="username" class="form-control" name="username" type="text"/>
                        <label class="form-label" for="username">Username</label>

                        <!-- Password input -->
                        <div class="form-outline mb-4  text-center">
                            <input type="password" id="password" name="password" class="form-control"/>
                            <label class="form-label" for="password">Password</label>
                        </div>
                    </div>
                    <!-- Submit button -->
                    <button type="submit" value="signIn" class="btn btn-primary btn-block text-center ml-3">Sign in
                    </button>
                    <div class="alert-danger mx-auto" th:if="${param.error}">
                        <script>
                            setTimeout(function () {
                                $('#myModal').trigger('click');
                            }, 5);</script>
                        Invalid Username and Password
                    </div>
                </form>
                <div class="dropdown-divider"></div>
                <button
                        type="button"
                        class="btn btn-primary text-center"
                        data-mdb-toggle="modal"
                        data-mdb-target="#registerModal"
                >
                    New around here? Register!
                </button>
            </div>
        </div>
    </div>
    <div sec:authorize="isAuthenticated()">
    <a href="/create">CREATE</a>
    </div>
    <div class="col-2" href="/"></div>
    <div class="col-5 wrapper">
        <p class="annotation">Annotation</p>
        <a href="/">
            <ul class="dynamic-txts">
                <li><span>Creation</span></li>
                <li><span>Organization</span></li>
                <li><span>Circulation</span></li>
                <li><span>Station</span></li>
            </ul>
            <span class="station-word">Station</span>
        </a>
    </div>

    <!--    <div class="col-1"></div>-->

    <a href="/">
        <button class="btn btn-primary home-btn" type="button" data-mdb-toggle="dropdown"
                aria-expanded="false">
            <div><i class="fa fa-home" style="font-size: xx-large"></i></div>
        </button>
    </a>

    <div class="col-3">
        <div class="input-group pl-5">
            <!--            <div class="form-outline">-->
            <!--                <input id="search-input" type="search" class="form-control search-frame"/>-->
            <!--                <label class="form-label" for="search-input">Search</label>-->
            <!--            </div>-->
            <!--            <button id="search-button" type="button" class="btn btn-primary search-btn">-->
            <!--                <i class="fas fa-search search-icon"></i>-->
            <!--            </button>-->
            <div class="text-light" sec:authorize="isAuthenticated()">
                Welcome, <a href="/collections/profile"><span th:text="${#authentication.principal.username}"/></a>
            </div>
            <br>
            <form th:action="@{/logout}" th:method="post" sec:authorize="isAuthenticated()">
                <button class="btn-link btn btn-light" style="margin-top: 8px">Logout</button>
                <div th:if="${param.logout}">
                    You have been logged out.
                </div>
            </form>
        </div>
    </div>

</nav>


<!--<div-->
<!--        class="modal fade"-->
<!--        id="registerModal"-->
<!--        tabindex="-1"-->
<!--        aria-labelledby="registrationModalLabel"-->
<!--        aria-hidden="true"-->
<!--&gt;-->
<!--    <div class="modal-dialog">-->
<!--        <div class="modal-content">-->
<!--            <div class="modal-header">-->
<!--                <h5 class="modal-title" id="registrationModalLabel" style="text-align: center">Register</h5>-->
<!--                <button-->
<!--                        type="button"-->
<!--                        class="btn-close"-->
<!--                        data-mdb-dismiss="modal"-->
<!--                        aria-label="Close"-->
<!--                ></button>-->
<!--            </div>-->
<!--            <div class="modal-body">-->
<!--                <form action="/sign-up">-->
<!--                    <div class="form-group">-->
<!--                        <label for="user_firstName">First Name</label>-->
<!--                        <input type="text" class="form-control" id="user_firstName" placeholder="Enter First Name">-->
<!--                    </div>-->
<!--                    <div class="form-group">-->
<!--                        <label for="user_lastName">Last Name</label>-->
<!--                        <input type="text" class="form-control" id="user_lastName" placeholder="Enter Last Name">-->
<!--                    </div>-->
<!--                    <div class="form-group">-->
<!--                        <label for="userName">Username</label>-->
<!--                        <input type="email" class="form-control" id="userName" placeholder="Enter Username">-->
<!--                    </div>-->
<!--                    <div class="form-group">-->
<!--                        <label for="reg_user_email">Email address</label>-->
<!--                        <input type="email" class="form-control" id="reg_user_email" aria-describedby="emailHelp"-->
<!--                               placeholder="Enter Email">-->
<!--                        <small id="signupemail" class="form-text text-muted">We'll never share your email with anyone-->
<!--                            else.</small>-->
<!--                    </div>-->
<!--                    <div class="form-group">-->
<!--                        <label for="reg_user_password">Password</label>-->
<!--                        <input type="password" class="form-control" id="reg_user_password" placeholder="Password">-->
<!--                    </div>-->
<!--                    <div class="form-group">-->
<!--                        <label for="confirmpassword">Confirm Password</label>-->
<!--                        <input type="password" class="form-control" id="confirmpassword" placeholder="Confirm Password">-->
<!--                    </div>-->
<!--                    <div class="form-check">-->
<!--                        <input type="checkbox" class="form-check-input" id="newsLetterCheck">-->
<!--                        <label class="form-check-label" for="newsLetterCheck">Check if you would like to join our-->
<!--                            newsletter!</label>-->
<!--                    </div>-->
<!--                </form>-->
<!--            </div>-->
<!--            <div class="modal-footer">-->
<!--                <button type="button" class="btn btn-secondary" data-mdb-dismiss="modal">-->
<!--                    Close-->
<!--                </button>-->
<!--                <button type="button" class="btn btn-primary">Confirm</button>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->
<!--<script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="-->
<!--        crossorigin="anonymous"></script>-->
<!--<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"-->
<!--        integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"-->
<!--        crossorigin="anonymous"></script>-->
<!--&lt;!&ndash;<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>&ndash;&gt;-->
<!--<script src="https://apis.google.com/js/platform.js" async defer></script>-->
<!--<script src="https://apis.google.com/js/api.js"></script>-->
<!--<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.6.0/mdb.min.js"></script>-->
<!--<script src="js/script.js" rel="script"></script>-->

</html>